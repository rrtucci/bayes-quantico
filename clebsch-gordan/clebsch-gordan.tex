\chapter{Clebsch-Gordan Coefficients}
\label{ch-clebsch-gordan}
This chapter is based on
Cvitanovic's Birdtracks book Ref.\cite{birdtracks-book}.


Recall that if $\ket{x}$ for
$x\in val(\rvx)$ is a complete, orthonormal
basis in Quantum Mechanics, then

\beq
\av{x|y} =  \delta(x, y)
\quad
\text{(orthonormality)}
\eeq
and

\beq
\sum_x \ket{x}\bra{x} = 1
\quad
\text{(completeness)}
\eeq
Furthermore, if we define

\beq
\pi_x = \ket{x}\bra{x}
\eeq
then $\pi_x$ is a
is a projection operator so

\beq
\pi_x\pi_x=\pi_x
\eeq
and

\beq
\pi_x \ket{y}=  \ket{y}
\delta(x, y),\quad
\bra{y}\pi_x = \bra{y}
\delta(x, y)
\eeq

Below, we will
define matrices $C_\lam=\bra{\lam}$ and $C^\dagger_\lam = \ket{\lam}$.
If we identify $\bra{\lam}$
with $\bra{x}$,
and $\ket{\lam}$
with
$\ket{x}$
%\footnote{
%As a mnemonic, I like to think of 
%$\bra{\lam}$ as a rounded 
%out bra $\bra{x}$
%and of $C^\dagger_\lam=\ket{\lam}$
%as a rounded out  $\ket{x}$}
, then $\bra{\lam}$ and $\ket{\lam}$
satisfy identities
similar to those satisfied by $\bra{x}$ and $\ket{x}$. 
We will show this
in this chapter.

\section{CB coefficients as matrices}


Suppose that  $M\in\CC^{d\times d}$ is a Hermitian matrix. Then we have

\beq
M = C^\dagger \Lam C
\eeq
where 
$C\in \CC^{d\times d}$ is a unitary matrix, and $\Lam$ is a diagonal matrix.



One can partition 
$C$ into rectangular submatrices $\bra{\lam}$ that have  $d_\lam$ rows with $d_\lam < d$, 
such that we have one $\bra{\lam}$
for each eigenvalue $\lam$ of $C$.
Likewise, we can partition 
$C^\dagger$ into rectangular submatrices $C^\dagger_\lam$ that have $d_\lam$ columns with $d_\lam < d$, such that we have one $\ket{\lam}$
for each eigenvalue $\lam$ of $C$. Thus, if $I^{d_\lam\times d_\lam}$
is the $d_\lam\times d_\lam$
identity matrix,

\beq
\left[
\begin{array}{c}
0
\\
C_\lam^{d_\lam\times d}
\\
0
\end{array}
\right]^{d \times d}
=
\underbrace{\left[
\begin{array}{ccc}
0
&0
&0
\\
0
&I^{d_\lam\times d_\lam}
&0
\\
0
&0
&0
\end{array}
\right]^{d\times d}}_{\pi_\lam}
C^{d\times d}
\eeq
\beq
\left[
\begin{array}{ccc}
0
&(C^\dagger_\lam)^{d\times d_\lam}
&0
\end{array}
\right]^{d \times d}
=
(C^\dagger)^{d\times d}
\underbrace{\left[
\begin{array}{ccc}
0
&0
&0
\\
0
&I^{d_\lam\times d_\lam}
&0
\\
0
&0
&0
\end{array}
\right]^{d\times d}}_{\pi_\lam}
\eeq
Henceforth in this chapter, we will use
$C_\lam$ and $\bra{\lam}$ interchangeably.
Likewise, we will
use $C^\dagger_\lam$ and
$\ket{\lam}$ interchangeably
The matrices $C_\lam=\bra{\lam}$
are called the {\bf Clebsch-Gordan (CG) coefficients} for $M$.

The matrices $\pi_\lam$  
obviously form a complete orthogonal set of projection
operators:

\beq
\sum_\lam \pi_\lam =1,
\quad
\pi_\lam\pi_\mu = \pi_\lam\delta(\lam, \mu)
\eeq
We now have

\beq
\pi_\lam C=  \bra{\lam},\quad
C^\dagger \pi_\lam = 
\ket{\lam} 
\eeq

\beqa
\bra{\lam}  \ket{\lam} &=&
\pi_\lam C C^\dagger \pi_\lam
\\
&=&
\pi_\lam
\eeqa


\beqa
M &=& C^\dagger \Lam C
\\
&=& 
C^\dagger\left(\sum_\lam \lam \pi_\lam 
\right)C
\\
&=&\sum_\lam
\lam \ket{\lam}
\bra{\lam}
\eeqa

\beqa
I^{d\times d} &=&
C^\dagger C
\\
&=&
 \sum_\lam C^\dagger \pi_\lam C
\\
&=&
 \sum_\lam  \underbrace {\ket{\lam}  \bra{\lam}}_{P_\lam}
\label{eq-cb-series-simple}
\eeqa

We will call Eq.(\ref{eq-cb-series-simple}) a {\bf Clebsch-Gordan (CG) series} either in that form, or after
multiplying by a vector space $V$, as in

\beq
V= \sum_\lam P_\lam V
\eeq
A simple example of a CG series is

\beq
\vec{r} = \HAT{x}
\oplus \HAT{y} \oplus \HAT{z}
\eeq
for a vector $\vec{r}\in\RR^3$.
In this expression, the vectors $\HAT{x}, \HAT{y}, \HAT{z}$ 
constitute a complete (i.e., basis) orthonormal set
for the vectors acted upon by $SO(3)$. Any generic vector
$\vec{r}\in\RR^3$ can be 
expressed as\footnote{Recall that a direct sum of two vector
spaces $V=V_1\oplus V_2$
means $V_1\cap V_2=\{0\}$}

\beq
\vec{r} = a \HAT{x} + b\HAT{y} +
c\HAT{z}
\eeq
for some $a,b,c\in\RR$.

So far, we have established  that
 \beqa
P_\lam&=&\ket{\lam} \bra{\lam}= C^\dagger\pi_\lam C, \quad  
\\
\pi_\lam&=&\bra{\lam} \ket{\lam}
\\
1 &=&\sum_\lam \underbrace{\ket{\lam} \bra{\lam}}_{P_\lam}=
\sum_\lam \underbrace{\bra{\lam} \ket{\lam}}_{\pi_\lam}
\eeqa
In fact, the
 $P_\lam$ form a complete orthogonal set of
projection operators, just like the $\pi_\lam$.

\beq
\sum_\lam P_\lam =1,
\quad
P_\lam P_\mu =
P_\lam \delta(\mu, \nu)
\eeq
Whereas the $\pi_\lam$ satisfy

\beq
\pi_\lam C= \bra{\lam},\quad
C^\dagger \pi_\lam = 
\ket{\lam} 
\eeq
the $P_\lam$ satisfy

\beq
CP_\lam= \bra{\lam} ,\quad
P_\lam C^\dagger  = 
\ket{\lam}
\eeq

Since we are assuming $M$ is Hermitian,
its eigenvalues are real. 
Thus, we can absorb
the eigenvalue $\lam$ into the CG
coefficients   by defining

\beq
\calc_\lam =\sqrt{\lam}\bra{\lam}
\eeq
and writing

\beq
M= \sum_\lam \calc^\dagger_\lam \calc_\lam
\eeq

Here
is an example
of a CG series. 
One can 
decompose $V^n\otimes\dual{V }^n= \sum_\lam V_\lam$ as follows

\beq
\begin{array}{l}
\myboxed{
1 = \frac{1}{n} P_{S} + P_{adj} +
\sum_{\lam \neq adj}P_\lam,
}
\\
\myboxed{
\delta^a_d
\delta_d^c
=
\frac{1}{n}
\delta^a_b
\delta^c_d
+
(P_{adj})\indices{_a^b_c^d
}
+\sum_{\lam \neq adj}
(P_{\lam})\indices{_a^b_c^d
}
}
\\
\bcen
\xymatrix@R=1pc@C=1pc{
a
&d\ar[l]
\\
b
&c\ar@{<-}[l]
}
\ecen
=
\frac{1}{n}
\bcen
\xymatrix@R=1pc@C=1pc{
&\ar[dd]
\\
\\
\ar[uu]
&
}
\ecen
+
\bcen
\xymatrix@R=1pc@C=2pc{
&\ar[dd]
\\
&\ar@{~}[l]
\\
\ar[uu]
&
}
\ecen
+\sum_{\lam
\neq adj}
\bcen
\xymatrix@R=1pc@C=2pc{
&\ar[dd]
\\
&\ar@2{->}[l]^\lam
\\
\ar[uu]
&
}
\ecen
\end{array}
\eeq

\section{Generalization From Matrices to Tensors}

Let $b^{:nb}=(b_1, b_2, \ldots, b_{nb})$ where $b_i\in Z_{[0,d_{\mu_i}]}$  and $a\in Z_{[1,d_\lam]}$.
Assume that

\beq
d_\lam = \prod_{i=1}^{:nb}d_{\mu_i}
\eeq

Now define the birdtracks


\beq
(\bra{\lam})\indices{
_{a}^{rev(b^{:nb})}
}=
\bcen
\xymatrix@C=1pc@R=1pc{
&&\mu_1 b_1\ar[dl]
\\
\lam a
& \bra{\lam}\ar@[green][l]
&\mu_2 b_2\ar[l]
\\
&&\mu_{nb} b_{nb}\ar[lu]
}
\ecen
\eeq
and



\beq
(\ket{\lam})
\indices{
^{a}_{b^{:nb}}
}=
\bcen
\xymatrix@C=1pc@R=1pc{
\mu_1 b_1
\\
\mu_2 b_2
&\ket{\lam}
\ar[lu]\ar[l]\ar[ld]
&\lam a\ar@[green][l]
\\
\mu_{nb} b_{nb}
}
\ecen
\eeq
 We will
assume  there is no
difference
between when a Greek letter is lowered 
and when it is  raised. Also, all summations over a Greek letter will be 
stated explicitly;
i.e., no implicit summations
over repeated Greek letters.

On the other hand, the Latin letter indices $b_i, a$ of $\bra{\lam}$
and $\ket{\lam}$
may be lowered or raised and their arrows
changed from outgoing to  incoming or vice versa. Furthermore,
we will use implicit
summation over
repeated Latin letters.

The Greek letters label representation
of the group (not necessarily irreps).
Each $b_i$ 
labels a member
of $\mu_i$, and
each $a$ labels
a member of $\lam$.


\beq
\begin{array}{l}
\myboxed{
(\bra{\lam})\indices{
_a
^{rev((b')^{:nb})}
}
(P_\mu)\indices{
_{(b')^{:nb}} 
^{rev(b^{:nb})}
}=
\delta(\mu,\lam) 
(\bra{\mu})\indices{
_a
^{rev(b^{:nb})}
}
,\quad
\bra{\lam} P_\mu =
\delta(\mu,\lam) \bra{\mu}}
\\
\bcen
\xymatrix@C=1pc@R=1pc{
&
&\sum b'_1\ar[dl]
\\
a& \bra{\lam}\ar[l]
&\sum b'_2\ar[l]
\\
&
&\sum b'_{nb}\ar[lu]
}
\xymatrix@C=1pc@R=1pc{
&
&b_1\ar[ld]
\\
&P_\mu\ar[l]
\ar[ld]\ar[lu]
&b_2
\ar[l]
\\
&
&b_{nb}\ar[lu]
}
\ecen
=
\delta(\mu, \lam)
\bcen
\xymatrix@C=1pc@R=1pc{
&
&b_1\ar[dl]
\\
a& \bra{\lam}\ar[l]
&b_2\ar[l]
\\
&
&b_{nb}\ar[lu]
}
\ecen
\end{array}
\eeq


\beq
\begin{array}{l}
\myboxed{
(P_\mu)\indices{
_{b^{:nb}}
^{rev((b')^{:nb})}
}
(\ket{\lam})\indices{
^a
_{(b')^{:nb}}
}=
\delta(\mu, \lam) 
(\ket{\mu})\indices{
^a
_{b^{:nb}}
}
,\quad
P_\mu \ket{\lam}=
\delta(\mu, \lam) \ket{\mu}}
\\
\bcen
\xymatrix@C=1pc@R=1pc{
b_1
&
&\sum b'_1\ar[ld]
\\
b_2
&P_\mu\ar[l]
\ar[ld]\ar[lu]
&\sum b'_2
\ar[l]
\\
b_{nb}
&
&\sum b'_{nb}\ar[lu]
}
\ecen\bcen
\xymatrix@C=1pc@R=2pc{
\\
&\ket{\lam}
\ar[lu]\ar[l]\ar[ld]
& a\ar[l]
\\
&
}
\ecen
=
\delta(\mu, \lam)
\bcen
\xymatrix@C=1pc@R=1pc{
b_1
\\
b_2
&\ket{\lam}
\ar[lu]\ar[l]\ar[ld]
& a\ar[l]
\\
b_{nb}
}
\ecen
\end{array}
\eeq





\beq
\begin{array}{l}
\myboxed{
(\bra{\lam})\indices{
_a
^{rev(b^{:nb})}
} 
(\ket{\mu})\indices{
^{a'}_{b^{:nb}} 
}
= \delta(\lam, \mu)
\delta_{a}^{a'},
\quad
\bra{\lam} \ket{\mu} =
\delta(\mu, \lam)
}
\\
\bcen
\xymatrix@C=1pc@R=1pc{
&&\sum b_1\ar[dl]
\\
a
& \bra{\lam}\ar[l]
&
\sum b_2\ar[l]
\\
&&\sum b_{nb}\ar[lu]
}
\ecen
\bcen
\xymatrix@C=1pc@R=2pc{
\\
&\ket{\mu}
\ar[lu]\ar[l]\ar[ld]
& a'\ar[l]
\\
&
}\ecen
\bcen =
\delta(\mu, \lam)
\xymatrix{
a
&a'
\ar[l]|\bullet
}
\ecen
\end{array}
\eeq

\beq
\begin{array}{l}
\myboxed{
\sum_\lam
(\ket{\lam})\indices{
^a
_{b^{:nb}}
}
(\bra{\lam})
\indices{_a
^{rev((b')^{:nb})}
}=
\delta^{rev((b')^{:nb})}_{b^{:nb}}
,\quad
\sum_\lam \ket{\lam} \bra{\lam} = 1
}
\\
\sum_\lam
\bcen
\xymatrix@C=1pc@R=1pc{
b_1
\\
b_2
&\ket{\lam}
\ar[lu]\ar[l]\ar[ld]
& \sum a\ar[l]
\\
b_{nb}}
\xymatrix@C=1pc@R=1pc{
&
&b'_1\ar[dl]
\\
& \bra{\lam}\ar[l]
&b'_2\ar[l]
\\
&
&b'_{nb}\ar[lu]
}
\ecen
=
\bcen
\xymatrix@C=1pc@R=1pc{
b_1
&\bullet
&b'_1\ar[ll]
\\
b_2
&\bullet
&b'_2
\ar[ll]
\\
b_{nb}
&\bullet
&b'_{nb}\ar[ll]
}
\ecen
\end{array}
\eeq